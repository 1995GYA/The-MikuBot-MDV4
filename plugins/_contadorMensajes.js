/**
 * Plugin desarrollado por el proyecto del bot ANI MX SCANS de ReyEndymion
 * https://github.com/ReyEndymion
 */

const _0x298308=_0x1c6a;(function(_0x245fcc,_0x3a3fc5){const _0x571c0a=_0x1c6a,_0x3b45ce=_0x245fcc();while(!![]){try{const _0xcd6e7f=-parseInt(_0x571c0a(0x169))/0x1*(parseInt(_0x571c0a(0x17e))/0x2)+parseInt(_0x571c0a(0x167))/0x3*(-parseInt(_0x571c0a(0x185))/0x4)+-parseInt(_0x571c0a(0x18e))/0x5*(-parseInt(_0x571c0a(0x17b))/0x6)+-parseInt(_0x571c0a(0x16b))/0x7*(parseInt(_0x571c0a(0x18d))/0x8)+-parseInt(_0x571c0a(0x17d))/0x9+-parseInt(_0x571c0a(0x179))/0xa*(parseInt(_0x571c0a(0x16f))/0xb)+parseInt(_0x571c0a(0x16c))/0xc*(parseInt(_0x571c0a(0x164))/0xd);if(_0xcd6e7f===_0x3a3fc5)break;else _0x3b45ce['push'](_0x3b45ce['shift']());}catch(_0x26cd9d){_0x3b45ce['push'](_0x3b45ce['shift']());}}}(_0x3184,0x3acff));import{Low,JSONFile}from'lowdb';function _0x3184(){const _0x3661e8=['16AbqkFz','5jFOxnB','composing','test','time','user','jid','log','junio','\x20de\x20','julio','178217VyBNfo','data','sendMessage','18IFOZBm','text','7hAaEAJ','groups','580629aPPkgH','1284QiQDyQ','noviembre','enero','3487buMUoG','count:\x20','abril','diciembre','now','msgcount','parseMention','bot','chats','chat','9230yTLJLp','sender','1029948ejBKyW','users','3432420vzRHfW','66914JXEhYO','mayo','getFullYear','mtype','write','isGroup','object','215708jBTKsC','febrero','Se\x20ha\x20reiniciado\x20el\x20contador\x20con\x20fecha\x20=>\x20','count','septiembre','getDate','stack','octubre'];_0x3184=function(){return _0x3661e8;};return _0x3184();}function _0x1c6a(_0x16b36c,_0x392ba2){const _0x318439=_0x3184();return _0x1c6a=function(_0x1c6a7c,_0x2270af){_0x1c6a7c=_0x1c6a7c-0x160;let _0x5e561a=_0x318439[_0x1c6a7c];return _0x5e561a;},_0x1c6a(_0x16b36c,_0x392ba2);}const isNumber=_0x35c4c1=>typeof _0x35c4c1==='number'&&!isNaN(_0x35c4c1),databaseFile='./countMessagesReg.json',adapter=new JSONFile(databaseFile),db=new Low(adapter);db?(await db['read'](),db[_0x298308(0x165)]=db[_0x298308(0x165)]||{},db[_0x298308(0x165)][_0x298308(0x176)]=db['data']['bot']||{},db[_0x298308(0x182)]()):db[_0x298308(0x182)]();export async function before(_0x560c79,{conn:_0x1aa6f1}){const _0x3fa4f6=_0x298308;if(!_0x560c79[_0x3fa4f6(0x183)])return;let _0x4a6593=db['data'][_0x3fa4f6(0x176)][_0x1aa6f1['user']['jid']];if(typeof _0x4a6593!=_0x3fa4f6(0x184))db[_0x3fa4f6(0x165)][_0x3fa4f6(0x176)][_0x1aa6f1[_0x3fa4f6(0x192)][_0x3fa4f6(0x193)]]={};if(_0x4a6593){let _0xc860cb=db[_0x3fa4f6(0x165)]['bot'][_0x1aa6f1[_0x3fa4f6(0x192)][_0x3fa4f6(0x193)]][_0x3fa4f6(0x177)];if(typeof _0xc860cb!=_0x3fa4f6(0x184))db[_0x3fa4f6(0x165)][_0x3fa4f6(0x176)][_0x1aa6f1[_0x3fa4f6(0x192)]['jid']][_0x3fa4f6(0x177)]={};if(_0xc860cb){let _0x5881b4=db[_0x3fa4f6(0x165)]['bot'][_0x1aa6f1[_0x3fa4f6(0x192)][_0x3fa4f6(0x193)]][_0x3fa4f6(0x177)][_0x3fa4f6(0x16a)];if(typeof _0x5881b4!='object')db['data'][_0x3fa4f6(0x176)][_0x1aa6f1[_0x3fa4f6(0x192)][_0x3fa4f6(0x193)]]['chats']['groups']={};if(_0x5881b4){let _0x55e644=db[_0x3fa4f6(0x165)][_0x3fa4f6(0x176)][_0x1aa6f1[_0x3fa4f6(0x192)]['jid']][_0x3fa4f6(0x177)][_0x3fa4f6(0x16a)][_0x560c79['chat']];if(typeof _0x55e644!=_0x3fa4f6(0x184))db['data'][_0x3fa4f6(0x176)][_0x1aa6f1[_0x3fa4f6(0x192)]['jid']]['chats'][_0x3fa4f6(0x16a)][_0x560c79[_0x3fa4f6(0x178)]]={};if(_0x55e644){let _0x3ded77=db[_0x3fa4f6(0x165)][_0x3fa4f6(0x176)][_0x1aa6f1[_0x3fa4f6(0x192)][_0x3fa4f6(0x193)]][_0x3fa4f6(0x177)][_0x3fa4f6(0x16a)][_0x560c79[_0x3fa4f6(0x178)]][_0x3fa4f6(0x17c)];if(typeof _0x3ded77!=_0x3fa4f6(0x184))db['data']['bot'][_0x1aa6f1[_0x3fa4f6(0x192)][_0x3fa4f6(0x193)]][_0x3fa4f6(0x177)][_0x3fa4f6(0x16a)][_0x560c79['chat']][_0x3fa4f6(0x17c)]={};if(_0x3ded77){let _0x474ab8=db[_0x3fa4f6(0x165)][_0x3fa4f6(0x176)][_0x1aa6f1[_0x3fa4f6(0x192)][_0x3fa4f6(0x193)]][_0x3fa4f6(0x177)][_0x3fa4f6(0x16a)][_0x560c79[_0x3fa4f6(0x178)]][_0x3fa4f6(0x17c)][_0x560c79['sender']];if(typeof _0x474ab8!=_0x3fa4f6(0x184))db[_0x3fa4f6(0x165)]['bot'][_0x1aa6f1[_0x3fa4f6(0x192)][_0x3fa4f6(0x193)]][_0x3fa4f6(0x177)][_0x3fa4f6(0x16a)][_0x560c79[_0x3fa4f6(0x178)]][_0x3fa4f6(0x17c)][_0x560c79[_0x3fa4f6(0x17a)]]={};if(_0x474ab8){if(!('msgcount'in _0x474ab8))_0x474ab8[_0x3fa4f6(0x174)]={};!isNumber(_0x474ab8[_0x3fa4f6(0x174)][_0x3fa4f6(0x188)])&&(_0x474ab8[_0x3fa4f6(0x174)][_0x3fa4f6(0x188)]=0x0);!isNumber(_0x474ab8[_0x3fa4f6(0x174)][_0x3fa4f6(0x191)])&&(_0x474ab8[_0x3fa4f6(0x174)][_0x3fa4f6(0x191)]=0x0);_0x560c79[_0x3fa4f6(0x181)]&&(_0x474ab8[_0x3fa4f6(0x174)]['count']++,console[_0x3fa4f6(0x160)](_0x3fa4f6(0x170),_0x474ab8));if(/^resetcount|rc$/i[_0x3fa4f6(0x190)](_0x560c79[_0x3fa4f6(0x168)])&&isAdmin){let _0x5ce8b1='';try{const _0x357b7f=Date[_0x3fa4f6(0x173)](),_0x37172d=new Date(_0x357b7f),_0xaa5645=_0x37172d[_0x3fa4f6(0x18a)](),_0xc8b54=[_0x3fa4f6(0x16e),_0x3fa4f6(0x186),'marzo',_0x3fa4f6(0x171),_0x3fa4f6(0x17f),_0x3fa4f6(0x161),_0x3fa4f6(0x163),'agosto',_0x3fa4f6(0x189),_0x3fa4f6(0x18c),_0x3fa4f6(0x16d),_0x3fa4f6(0x172)],_0x1cb689=_0xc8b54[_0x37172d['getMonth']()],_0x303b0e=_0x37172d[_0x3fa4f6(0x180)](),_0x11fb6f=_0xaa5645+_0x3fa4f6(0x162)+_0x1cb689+_0x3fa4f6(0x162)+_0x303b0e;for(let _0x5da4f5 in _0x3ded77){_0x3ded77[_0x5da4f5][_0x3fa4f6(0x174)]['count']=0x0,_0x3ded77[_0x5da4f5][_0x3fa4f6(0x174)][_0x3fa4f6(0x191)]=_0x357b7f;}await db['write'](),_0x5ce8b1=_0x3fa4f6(0x187)+_0x11fb6f;}catch(_0x51479b){_0x5ce8b1=''+_0x51479b[_0x3fa4f6(0x18b)];}let _0x2a37d8='',_0x42c983=0x0;if(_0x5ce8b1===undefined)return;for(const _0x531053 of _0x5ce8b1){await new Promise(_0x7b8732=>setTimeout(_0x7b8732,0xf)),_0x2a37d8+=_0x531053,_0x42c983++,_0x42c983%0xa===0x0&&await _0x1aa6f1['sendPresenceUpdate'](_0x3fa4f6(0x18f),_0x560c79[_0x3fa4f6(0x178)]);}return _0x1aa6f1[_0x3fa4f6(0x166)](_0x560c79['chat'],{'text':_0x5ce8b1,'mentions':_0x1aa6f1[_0x3fa4f6(0x175)](_0x5ce8b1)},{'quoted':_0x560c79,'ephemeralExpiration':0x18*0x3c*0x64,'disappearingMessagesInChat':0x18*0x3c*0x64});}await db[_0x3fa4f6(0x182)]();}else db[_0x3fa4f6(0x165)]['bot'][_0x1aa6f1[_0x3fa4f6(0x192)][_0x3fa4f6(0x193)]][_0x3fa4f6(0x177)][_0x3fa4f6(0x16a)][_0x560c79[_0x3fa4f6(0x178)]]['users'][_0x560c79[_0x3fa4f6(0x17a)]]={'msgcount':{'count':0x0,'time':0x0}};}else db[_0x3fa4f6(0x165)][_0x3fa4f6(0x176)][_0x1aa6f1[_0x3fa4f6(0x192)]['jid']][_0x3fa4f6(0x177)][_0x3fa4f6(0x16a)][_0x560c79[_0x3fa4f6(0x178)]][_0x3fa4f6(0x17c)]={[_0x560c79[_0x3fa4f6(0x17a)]]:{}};}else db[_0x3fa4f6(0x165)][_0x3fa4f6(0x176)][_0x1aa6f1[_0x3fa4f6(0x192)][_0x3fa4f6(0x193)]]['chats'][_0x3fa4f6(0x16a)][_0x560c79[_0x3fa4f6(0x178)]]={'users':{}};}else db['data']['bot'][_0x1aa6f1[_0x3fa4f6(0x192)][_0x3fa4f6(0x193)]][_0x3fa4f6(0x177)]['groups']={[_0x560c79[_0x3fa4f6(0x178)]]:{}};}else db['data'][_0x3fa4f6(0x176)][_0x1aa6f1[_0x3fa4f6(0x192)]['jid']][_0x3fa4f6(0x177)]={'groups':{}};}else db[_0x3fa4f6(0x165)][_0x3fa4f6(0x176)][_0x1aa6f1['user']['jid']]={'chats':{}};await db[_0x3fa4f6(0x182)]();}
